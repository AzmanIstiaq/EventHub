


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Event</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">au.edu.rmit.sept.webapp.model</a>
</div>

<h1>Coverage Summary for Class: Event (au.edu.rmit.sept.webapp.model)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Event</td>
<td class="coverageStat">
  <span class="percent">
    92.6%
  </span>
  <span class="absValue">
    (25/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.8%
  </span>
  <span class="absValue">
    (15/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    94.3%
  </span>
  <span class="absValue">
    (50/53)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Event$HibernateInstantiator$vs1sssi9</td>
  </tr>
  <tr>
    <td class="name">Event$HibernateInstantiator$xUHtqTeB</td>
  </tr>
  <tr>
    <td class="name">Event$HibernateProxy$08rtAY7B</td>
  </tr>
  <tr>
    <td class="name">Event$HibernateProxy$sdZgkk7z</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    92.6%
  </span>
  <span class="absValue">
    (25/27)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    93.8%
  </span>
  <span class="absValue">
    (15/16)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    94.3%
  </span>
  <span class="absValue">
    (50/53)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package au.edu.rmit.sept.webapp.model;
&nbsp;
&nbsp;import com.fasterxml.jackson.annotation.JsonBackReference;
&nbsp;import com.fasterxml.jackson.annotation.JsonManagedReference;
&nbsp;import jakarta.persistence.*;
&nbsp;import java.time.LocalDateTime;
&nbsp;import java.util.HashSet;
&nbsp;import java.util.Set;
&nbsp;
&nbsp;@Entity
&nbsp;@Table(name = &quot;events&quot;)
&nbsp;public class Event {
&nbsp;
&nbsp;    @Id
&nbsp;    @GeneratedValue(strategy = GenerationType.IDENTITY)
&nbsp;    @Column(name = &quot;event_id&quot;)
&nbsp;    private Long eventId;
&nbsp;    private String title;
&nbsp;
&nbsp;    @Column(length = 1000)
&nbsp;    private String description;
&nbsp;
&nbsp;    @Column(nullable = false)
&nbsp;    private LocalDateTime dateTime;
&nbsp;
&nbsp;    @Column(nullable = false)
&nbsp;    private String location;
&nbsp;
<b class="fc">&nbsp;    @OneToMany(mappedBy = &quot;event&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)</b>
&nbsp;    @JsonManagedReference
&nbsp;    private Set&lt;Registration&gt; registrations = new HashSet&lt;&gt;();
&nbsp;
<b class="fc">&nbsp;    @OneToMany(mappedBy = &quot;event&quot;, cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.EAGER)</b>
&nbsp;    @JsonManagedReference
&nbsp;    private Set&lt;Feedback&gt; feedbacks = new HashSet&lt;&gt;();
&nbsp;
&nbsp;    @ManyToOne
&nbsp;    @JoinColumn(name = &quot;organiser&quot;, nullable = false)
&nbsp;    @JsonBackReference
&nbsp;    private User organiser;
&nbsp;
&nbsp;    // Category (single choice)
&nbsp;    @ManyToOne(fetch = FetchType.EAGER)
&nbsp;    @JoinColumn(name = &quot;category_id&quot;)
&nbsp;    private Category category;
&nbsp;
&nbsp;    // Keywords / tags (many-to-many)
<b class="fc">&nbsp;    @ManyToMany(cascade = {CascadeType.PERSIST, CascadeType.MERGE})</b>
&nbsp;    @JoinTable(
&nbsp;            name = &quot;event_keyword&quot;,
&nbsp;            joinColumns = @JoinColumn(name = &quot;event_id&quot;),
&nbsp;            inverseJoinColumns = @JoinColumn(name = &quot;keyword_id&quot;)
&nbsp;    )
&nbsp;    private Set&lt;Keyword&gt; keywords = new HashSet&lt;&gt;();
&nbsp;
&nbsp;    // --- Constructors ---
<b class="fc">&nbsp;    public Event() {}</b>
&nbsp;
&nbsp;    public Event(String title, String description, LocalDateTime dateTime,
<b class="fc">&nbsp;                 String location, User organiser, Category category) {</b>
<b class="fc">&nbsp;        this.title = title;</b>
<b class="fc">&nbsp;        this.description = description;</b>
<b class="fc">&nbsp;        this.dateTime = dateTime;</b>
<b class="fc">&nbsp;        this.location = location;</b>
<b class="fc">&nbsp;        this.organiser = organiser;</b>
<b class="fc">&nbsp;        this.category = category;</b>
&nbsp;    }
&nbsp;
&nbsp;    // --- Getters and setters ---
<b class="fc">&nbsp;    public Long getEventId() { return eventId; }</b>
<b class="fc">&nbsp;    public void setEventId(Long eventId) { this.eventId = eventId; }</b>
&nbsp;
<b class="fc">&nbsp;    public String getTitle() { return title; }</b>
<b class="fc">&nbsp;    public void setTitle(String title) { this.title = title; }</b>
&nbsp;
<b class="fc">&nbsp;    public String getDescription() { return description; }</b>
<b class="fc">&nbsp;    public void setDescription(String description) { this.description = description; }</b>
&nbsp;
<b class="fc">&nbsp;    public LocalDateTime getDateTime() { return dateTime; }</b>
<b class="fc">&nbsp;    public void setDateTime(LocalDateTime dateTime) { this.dateTime = dateTime; }</b>
&nbsp;
<b class="fc">&nbsp;    public String getLocation() { return location; }</b>
<b class="fc">&nbsp;    public void setLocation(String location) { this.location = location; }</b>
&nbsp;
<b class="fc">&nbsp;    public Set&lt;Registration&gt; getRegistrations() { return registrations; }</b>
<b class="nc">&nbsp;    public void setRegistrations(Set&lt;Registration&gt; registrations) { this.registrations = registrations; }</b>
&nbsp;
<b class="fc">&nbsp;    public Set&lt;Feedback&gt; getFeedbacks() { return feedbacks; }</b>
&nbsp;
&nbsp;    public Boolean checkUserRegistered(Long userId) {
<b class="fc">&nbsp;        for (Registration registration : registrations) {</b>
<b class="fc">&nbsp;            if (registration.getUser().getUserId() == (userId)) {</b>
<b class="fc">&nbsp;                return true;</b>
&nbsp;            }
&nbsp;        }
<b class="fc">&nbsp;        return false;</b>
&nbsp;    }
&nbsp;
&nbsp;    public double getStarRating() {
<b class="fc">&nbsp;        if (feedbacks.isEmpty()) {</b>
<b class="fc">&nbsp;            return 0;</b>
&nbsp;        }
<b class="fc">&nbsp;        double score = 0;</b>
<b class="fc">&nbsp;        for (Feedback feedback : feedbacks) {</b>
<b class="fc">&nbsp;            score += feedback.getRating();</b>
&nbsp;        }
<b class="fc">&nbsp;        return score / feedbacks.size();</b>
&nbsp;    }
&nbsp;
<b class="fc">&nbsp;    public User getOrganiser() { return organiser; }</b>
<b class="fc">&nbsp;    public void setOrganiser(User organiser) { this.organiser = organiser; }</b>
&nbsp;
<b class="fc">&nbsp;    public Category getCategory() { return category; }</b>
<b class="fc">&nbsp;    public void setCategory(Category category) { this.category = category; }</b>
&nbsp;
<b class="fc">&nbsp;    public Set&lt;Keyword&gt; getKeywords() { return keywords; }</b>
<b class="fc">&nbsp;    public void setKeywords(Set&lt;Keyword&gt; keywords) { this.keywords = keywords; }</b>
&nbsp;
&nbsp;    public String getKeywordsAsString() {
<b class="pc">&nbsp;        if (keywords == null || keywords.isEmpty()) {</b>
<b class="fc">&nbsp;            return &quot;&quot;;</b>
&nbsp;        }
&nbsp;
<b class="fc">&nbsp;        StringBuilder sb = new StringBuilder();</b>
<b class="fc">&nbsp;        for (Keyword word : keywords) {</b>
<b class="fc">&nbsp;            sb.append(word.getKeyword()).append(&quot;, &quot;);</b>
&nbsp;        }
&nbsp;
&nbsp;        // Remove the last comma and space
<b class="fc">&nbsp;        sb.setLength(sb.length() - 2);</b>
<b class="fc">&nbsp;        return sb.toString();</b>
&nbsp;    }
&nbsp;
&nbsp;
&nbsp;    // Utility method to add a keyword
&nbsp;    public void addKeyword(Keyword keyword) {
<b class="fc">&nbsp;        this.keywords.add(keyword);</b>
<b class="fc">&nbsp;        keyword.getEvents().add(this);</b>
&nbsp;    }
&nbsp;
&nbsp;    public void removeKeyword(Keyword keyword) {
<b class="nc">&nbsp;        this.keywords.remove(keyword);</b>
<b class="nc">&nbsp;        keyword.getEvents().remove(this);</b>
&nbsp;    }
&nbsp;
&nbsp;    @Override
&nbsp;    public String toString() {
<b class="fc">&nbsp;        return &quot;Event{&quot; +</b>
&nbsp;                &quot;id=&quot; + eventId +
&nbsp;                &quot;, title=&#39;&quot; + title + &#39;\&#39;&#39; +
&nbsp;                &quot;, dateTime=&quot; + dateTime +
&nbsp;                &quot;, location=&#39;&quot; + location + &#39;\&#39;&#39; +
<b class="fc">&nbsp;                &quot;, category=&quot; + (category != null ? category.getCategory() : null) +</b>
&nbsp;                &#39;}&#39;;
&nbsp;    }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2025-09-21 19:22</div>
</div>
</body>
</html>
