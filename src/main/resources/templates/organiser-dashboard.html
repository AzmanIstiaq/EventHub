<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>Upcoming Events</title></head>
<body>
<div th:replace="fragments/navbar"></div>

<h1 th:text="'Events for ' + ${organiser.name}"></h1>

<a th:href="@{'/organiser/' + ${organiser.id} + '/events/new'}">Create New Event</a>
<ul>
    <li th:each="event : ${events}">
        <strong th:text="${event.title}"></strong>
        (<span th:text="${event.dateTime}"></span> @
        <span th:text="${event.location}"></span>)
        <a th:href="@{'/organiser/' + ${organiser.id} + '/events/' + ${event.id} + '/edit'}">Edit</a>
        <a th:href="@{'/organiser/' + ${organiser.id} + '/events/' + ${event.id} + '/delete'}">Delete</a>
        <ul>
            <li th:each="registration : ${event.registrations}">
                <strong th:text="${registration.getUser().getName()}"></strong>
                (<span th:text="${registration.getRegistrationDate()}"></span>)
                <span th:text="${registration.getStatus()}"></span>

            </li>
        </ul>
    </li>
</ul>
</body>
</html>
